(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(363)},182:function(e,t,a){},360:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(7),o=a.n(l),i=(a(182),a(55)),s=a(86),u=a(87),c=a(174),d=a(160),p=a(175),f=a(368),m=function(){return r.a.createElement(f.a,{title:"\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"})},h=a(364),v=[{title:"\u0418\u0414",dataIndex:"id",key:"id"},{title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",dataIndex:"lastName",key:"lastName"},{title:"\u0418\u043c\u044f",dataIndex:"firstName",key:"firstName"},{title:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",dataIndex:"product",key:"product"},{title:"\u041a\u043e\u043b",dataIndex:"quantity",key:"quantity"}],b={position:"none"},y=function(e){var t=e.dataSource,a=e.rowSelection;return r.a.createElement(h.a,{dataSource:t,columns:v,pagination:b,rowSelection:a})},k=a(365),w=a(367),O=a(366),g=a(369),N=k.a.create({name:"form_order",onFieldsChange:function(e,t){e.onChange(t)},mapPropsToFields:function(e){return{lastName:k.a.createFormField(Object(i.a)({},e.lastName,{value:e.lastName.value})),firstName:k.a.createFormField(Object(i.a)({},e.firstName,{value:e.firstName.value})),product:k.a.createFormField(Object(i.a)({},e.product,{value:e.product.value})),quantity:k.a.createFormField(Object(i.a)({},e.quantity,{value:e.quantity.value}))}},onValuesChange:function(e,t){console.log(t)}})(function(e){var t=e.visible,a=e.onCancel,n=e.onOk,l=e.form,o=e.title,i=e.okText,s=l.getFieldDecorator,u=l.validateFields;return r.a.createElement(w.a,{visible:t,title:o,okText:i,onCancel:a,onOk:n,validateFields:u},r.a.createElement(k.a,{layout:"vertical"},r.a.createElement(k.a.Item,{label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},s("lastName",{rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044f"}]})(r.a.createElement(O.a,{placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}))),r.a.createElement(k.a.Item,{label:"\u0418\u043c\u044f"},s("firstName",{rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0438\u043c\u044f"}]})(r.a.createElement(O.a,{placeholder:"\u0418\u043c\u044f"}))),r.a.createElement(k.a.Item,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"},s("product",{rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}]})(r.a.createElement(O.a,{placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}))),r.a.createElement(k.a.Item,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"},s("quantity",{rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}]})(r.a.createElement(g.a,{defaultValue:"1",min:"1"})))))}),x=(a(360),a(361),a(29)),E=a(23),S=a.n(E),j=a(43),T=new(function(){function e(){Object(s.a)(this,e),this._apiBase="http://localhost:9966/api/v1/orders"}return Object(u.a)(e,[{key:"getData",value:function(){var e=Object(j.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("\u0420\u0435\u0441\u0443\u0440\u0441\u044b \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 ".concat(t," \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b"));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"postData",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t,a,n,r,l,o=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",a=o.length>1?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=5,fetch(t,{method:a,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(n)});case 5:return r=e.sent,e.next=8,r.json();case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"deleteData",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t,a,n=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(t,{method:"DELETE",mode:"cors",cache:"no-cache"});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getAllOrders",value:function(){var e=Object(j.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("".concat(this._apiBase,"/all/"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getOrder",value:function(){var e=Object(j.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("".concat(this._apiBase,"/get/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrder",value:function(){var e=Object(j.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postData("".concat(this._apiBase,"/save/"),"POST",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateOrder",value:function(){var e=Object(j.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postData("".concat(this._apiBase,"/update/"),"PUT",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteOrder",value:function(){var e=Object(j.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deleteData("".concat(this._apiBase,"/delete/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={tableData:null,modalVisible:!1,modalTitle:"",operationType:"",orderId:null,disabled:!1,okText:"",fields:{lastName:{value:null},firstName:{value:null},product:{value:null},quantity:{value:null}}},a.rowSelection={type:"radio",onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),a.setState({orderId:t[0].id})}},a.handleShowModalAdd=function(){a.setState({operationType:"Add",okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",modalTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",modalVisible:!0})},a.handleShowModalEdit=function(){null!==a.state.orderId?T.getOrder(a.state.orderId).then(function(e){a.setState({fields:{lastName:{value:e.lastName},firstName:{value:e.firstName},product:{value:e.product},quantity:{value:e.quantity}},operationType:"Edit",okText:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",modalTitle:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",modalVisible:!0})}):alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435")},a.handleShowModalDelete=function(){null!==a.state.orderId?T.getOrder(a.state.orderId).then(function(e){a.setState({fields:{lastName:{value:e.lastName},firstName:{value:e.firstName},product:{value:e.product},quantity:{value:e.quantity}},operationType:"Delete",okText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",modalTitle:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0437\u0430\u044f\u0432\u043a\u0443",modalVisible:!0,disabled:!0})}):alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435")},a.handleEdit=function(){var e={id:a.state.orderId,lastName:a.state.fields.lastName.value,firstName:a.state.fields.firstName.value,product:a.state.fields.product.value,quantity:a.state.fields.quantity.value};T.updateOrder(e).then(function(e){return console.log(e),T.getAllOrders()}).then(function(e){a.setState({tableData:e})})},a.handleAdd=function(){var e={id:null,lastName:a.state.fields.lastName.value,firstName:a.state.fields.firstName.value,product:a.state.fields.product.value,quantity:a.state.fields.quantity.value};T.addOrder(e).then(function(e){return console.log(e),T.getAllOrders()}).then(function(e){a.setState({tableData:e})})},a.handleDelete=function(){T.deleteOrder(a.state.orderId).then(function(e){return console.log(e),T.getAllOrders()}).then(function(e){a.setState({tableData:e})})},a.handleModalOk=function(){switch(a.state.operationType){case"Add":a.handleAdd();break;case"Edit":a.handleEdit();break;case"Delete":a.handleDelete()}a.resetFormState()},a.resetFormState=function(){a.setState({modalVisible:!1,operationType:"",disabled:!1,fields:{lastName:{value:null},firstName:{value:null},product:{value:null},quantity:{value:null}}})},a.handleModalCancel=function(){a.resetFormState()},a.handleFormChange=function(e){a.setState(function(t){var a=t.fields;return{fields:Object(i.a)({},a,e)}})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.getAllOrders().then(function(t){e.setState({tableData:t})})}},{key:"render",value:function(){var e=this.state,t=e.tableData,a=e.okText,n=e.modalTitle,l=e.modalVisible,o=e.fields,i=e.disabled;return r.a.createElement("div",{className:"App"},r.a.createElement(m,{className:"header"}),r.a.createElement("div",{className:"wrapper-buttons"},r.a.createElement(x.a,{type:"primary",onClick:this.handleShowModalAdd,className:"control-button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(x.a,{type:"primary",onClick:this.handleShowModalEdit,className:"control-button"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(x.a,{type:"primary",onClick:this.handleShowModalDelete,className:"control-button"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement(y,{dataSource:t,rowSelection:this.rowSelection}),r.a.createElement(N,Object.assign({},o,{onChange:this.handleFormChange,okText:a,title:n,visible:l,onOk:this.handleModalOk,onCancel:this.handleModalCancel,disabled:i})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.c3695f3d.chunk.js.map